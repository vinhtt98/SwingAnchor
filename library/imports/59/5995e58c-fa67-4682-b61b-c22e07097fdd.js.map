{"version":3,"sources":["../../../../assets/Scripts/assets/Scripts/TouchSensorController.ts"],"names":[],"mappings":";;;;;AAAM,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAG1C;IAAmD,yCAAY;IAD/D;QAAA,qEA8CC;QAxCW,iBAAW,GAAa,IAAI,CAAC;QAG7B,iBAAW,GAAG,KAAK,CAAC;QAGpB,yBAAmB,GAAG,KAAK,CAAC;;IAkCxC,CAAC;IAhCG,sCAAM,GAAN;QACI,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,KAAK,EACxC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;QAClE,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QAC9B,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAChE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IACpE,CAAC;IAED,sCAAM,GAAN,UAAO,EAAE;QACL,IAAG,IAAI,CAAC,mBAAmB,EAAC;YACxB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,OAAO;SACV;IACL,CAAC;IAEO,uCAAO,GAAf;QACI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IAC5B,CAAC;IAEO,yCAAS,GAAjB;QACI,IAAG,IAAI,CAAC,mBAAmB;YACvB,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;QACrC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;IAC7B,CAAC;IAEM,6CAAa,GAApB;QACI,OAAO,IAAI,CAAC,WAAW,CAAC;IAC5B,CAAC;IAEM,8CAAc,GAArB;QACI,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;IACpC,CAAC;IAvCD;QAJC,QAAQ,CAAC;YACN,IAAI,EAAE,EAAE,CAAC,MAAM;YACf,OAAO,EAAE,IAAI;SAChB,CAAC;8DACmC;IAGrC;QADC,QAAQ;8DACmB;IAG5B;QADC,QAAQ;sEAC2B;IAXnB,qBAAqB;QADzC,OAAO;OACa,qBAAqB,CA6CzC;IAAD,4BAAC;CA7CD,AA6CC,CA7CkD,EAAE,CAAC,SAAS,GA6C9D;kBA7CoB,qBAAqB","file":"","sourceRoot":"../../../../assets/Scripts","sourcesContent":["const {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class TouchSensorController extends cc.Component {\n    @property({\n        type: cc.Canvas,\n        visible: true\n    })\n    private _mainCanvas:cc.Canvas = null;\n\n    @property\n    private _isTouching = false;\n\n    @property\n    private _isForcedToReleased = false;\n\n    onLoad () {\n        this.node.setContentSize(this._mainCanvas.designResolution.width,\n                                this._mainCanvas.designResolution.height);\n        this.node.x = this.node.y = 0;\n        this.node.on(cc.Node.EventType.TOUCH_START, this.onTouch, this);\n        this.node.on(cc.Node.EventType.TOUCH_END, this.onRelease, this);\n    }\n\n    update(dt){\n        if(this._isForcedToReleased){\n            this._isTouching = false;\n            return;\n        }\n    }\n\n    private onTouch() {\n        this._isTouching = true;\n    }\n\n    private onRelease() {\n        if(this._isForcedToReleased)\n            this._isForcedToReleased = false;\n        this._isTouching = false;\n    }\n\n    public getIsTouching() {\n        return this._isTouching;\n    }\n\n    public forceToRelease(){\n        this._isForcedToReleased = true;\n    }\n}\n"]}